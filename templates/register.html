<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>LANCER | Sign Up</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
	<link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon.ico') }}" type="image/x-icon">
    <link rel="icon" href="{{ url_for('static', filename='images/favicon.ico') }}" type="image/x-icon">
</head>

<body class="registerBody">
	<div class="lancer_logo">
	   <img src="{{ url_for('static', filename='images/LANCER_logo.png') }}" alt="logo">
	   <p>LANCER</p>
   </div>
	<div class="tiltedBg">
		<div class="content">
			<div class="heading">
				Find The Right Job. Fast.
			</div>
			<div class="subHeading">
				The best place for employers and job seekers to connect
			</div>
			<div class="footer">
				Already have an account? <a href="/login">Login</a>
			</div>
		</div>
	</div>
	<div class="rightBg d-flex align-items-center justify-content-center">
		<div class="ml-auto registerBox">
			<div class="heading text-center">
				<h2>Register</h2>
				<hr>
			</div>
			<form class="row g-3 pt-3" method="post" action="\add_new_user">
				<div class="col-md-6">
					<label for="firstName" class="form-label">First Name</label>
					<input type="text" name="fname" class="form-control" id="firstName" placeholder="John" required>
				</div>
				<div class="col-md-6">
					<label for="lastName" class="form-label">Last Name</label>
					<input type="text" name="lname" class="form-control" id="lastName" placeholder="Doe" required>
				</div>
				<div class="col-md-12">
					<label for="inputEmail4" class="form-label">Email</label>
					<input type="email" name="email" class="form-control" id="inputEmail4" placeholder="abc@gmail.com" required>
				</div>
				<div class="col-md-12 password-wrapper">
					<label for="inputPassword4" class="form-label">Password</label>
					<input type="password" name="password" class="form-control" id="inputPassword4" required>
					<!-- eye open svg  -->
					<svg width="20px" height="20px" viewBox="0 0 24 24" fill="none"
					xmlns="http://www.w3.org/2000/svg">
					<g id="SVGRepo_bgCarrier" stroke-width="0" />
					<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />
					<g id="SVGRepo_iconCarrier">
						<path
							d="M12 5C5.63636 5 2 12 2 12C2 12 5.63636 19 12 19C18.3636 19 22 12 22 12C22 12 18.3636 5 12 5Z"
							stroke="black" stroke-width="1.5" stroke-linecap="round"
							stroke-linejoin="round" />
						<path
							d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z"
							stroke="black" stroke-width="1.5" stroke-linecap="round"
							stroke-linejoin="round" />
					</g>
				</svg>
				<!-- eye closed svg  -->
				<svg width="20px" height="20px" class="hidden" viewBox="0 0 24 24" fill="none"
					xmlns="http://www.w3.org/2000/svg">
					<g id="SVGRepo_bgCarrier" stroke-width="0" />
					<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />
					<g id="SVGRepo_iconCarrier">
						<path
							d="M20 14.8335C21.3082 13.3317 22 12 22 12C22 12 18.3636 5 12 5C11.6588 5 11.3254 5.02013 11 5.05822C10.6578 5.09828 10.3244 5.15822 10 5.23552M12 9C12.3506 9 12.6872 9.06015 13 9.17071C13.8524 9.47199 14.528 10.1476 14.8293 11C14.9398 11.3128 15 11.6494 15 12M3 3L21 21M12 15C11.6494 15 11.3128 14.9398 11 14.8293C10.1476 14.528 9.47198 13.8524 9.1707 13C9.11386 12.8392 9.07034 12.6721 9.04147 12.5M4.14701 9C3.83877 9.34451 3.56234 9.68241 3.31864 10C2.45286 11.1282 2 12 2 12C2 12 5.63636 19 12 19C12.3412 19 12.6746 18.9799 13 18.9418"
							stroke="black" stroke-width="1.5" stroke-linecap="round"
							stroke-linejoin="round" />
					</g>
				</svg>
				</div>
				<div class="col-md-12 password-wrapper">
					<label for="inputPassword5" class="form-label">Confirm Password</label>
					<input type="password" name="confirmPassword" class="form-control" id="inputPassword5" required>
					<!-- eye open svg  -->
					<svg width="20px" height="20px" viewBox="0 0 24 24" fill="none"
					xmlns="http://www.w3.org/2000/svg">
					<g id="SVGRepo_bgCarrier" stroke-width="0" />
					<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />
					<g id="SVGRepo_iconCarrier">
						<path
							d="M12 5C5.63636 5 2 12 2 12C2 12 5.63636 19 12 19C18.3636 19 22 12 22 12C22 12 18.3636 5 12 5Z"
							stroke="black" stroke-width="1.5" stroke-linecap="round"
							stroke-linejoin="round" />
						<path
							d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z"
							stroke="black" stroke-width="1.5" stroke-linecap="round"
							stroke-linejoin="round" />
					</g>
				</svg>
				<!-- eye closed svg  -->
				<svg width="20px" height="20px" class="hidden" viewBox="0 0 24 24" fill="none"
					xmlns="http://www.w3.org/2000/svg">
					<g id="SVGRepo_bgCarrier" stroke-width="0" />
					<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />
					<g id="SVGRepo_iconCarrier">
						<path
							d="M20 14.8335C21.3082 13.3317 22 12 22 12C22 12 18.3636 5 12 5C11.6588 5 11.3254 5.02013 11 5.05822C10.6578 5.09828 10.3244 5.15822 10 5.23552M12 9C12.3506 9 12.6872 9.06015 13 9.17071C13.8524 9.47199 14.528 10.1476 14.8293 11C14.9398 11.3128 15 11.6494 15 12M3 3L21 21M12 15C11.6494 15 11.3128 14.9398 11 14.8293C10.1476 14.528 9.47198 13.8524 9.1707 13C9.11386 12.8392 9.07034 12.6721 9.04147 12.5M4.14701 9C3.83877 9.34451 3.56234 9.68241 3.31864 10C2.45286 11.1282 2 12 2 12C2 12 5.63636 19 12 19C12.3412 19 12.6746 18.9799 13 18.9418"
							stroke="black" stroke-width="1.5" stroke-linecap="round"
							stroke-linejoin="round" />
					</g>
				</svg>
				</div>
				{% for message in get_flashed_messages(category_filter=['failed']) %}
                    <div id="validationServerUsernameFeedback" class="feedback text-danger">
                    {{message}}
                  </div>
                    {% endfor %}

					<div class="feedback text-danger pwdFeedback hide"> <!--client side feedback for password mismatch -->
					</div>
				<div class="links col-12 hidden"> <!--message for mobiles only -->
					Already have an account? <a href="/login">Login</a>
				</div>
				<div class="col-12">
					<button type="submit" class="btn btn-primary signUpBtn">Sign Up</button>
				</div>
			</form>

		</div>
	</div>




	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
		crossorigin="anonymous">
	</script>
	<script>
		//script for checking if password and confirm password are equal
		let signUpBtn = document.querySelector('.signUpBtn');
		let feedback = document.querySelector('.pwdFeedback');
		signUpBtn.addEventListener('click', (e)=> {
			e.preventDefault(); // prevents the form from submitting (also prevents checking validity)
			if(!document.querySelector('form').checkValidity()){ // manually check for 'required' fields
				document.querySelector('form').reportValidity(); // if not valid, show the browser validation message
				return;
			}
			let password = document.querySelector('#inputPassword4').value;
			let confirmPassword = document.querySelector('#inputPassword5').value;
			console.log(password, confirmPassword);
			if (password!==confirmPassword){
				feedback.innerHTML = 'Password and Confirm Password do not match';
				feedback.classList.remove('hide');
				console.log('Password and Confirm Password do not match');
			}
			else{
				document.querySelector('form').submit();
			}
		})

		// view-password button:
		document.querySelectorAll('.password-wrapper svg:first-of-type').forEach((eye) => {
			eye.addEventListener('click', () => {
				eye.classList.add('hidden');
				eye.nextElementSibling.classList.remove('hidden');
				const input = eye.previousElementSibling;
					input.type = 'text';
			});
		});
		console.log(document.querySelectorAll('.password-wrapper svg:first-of-type'));
		document.querySelectorAll('.password-wrapper svg:last-child').forEach((eye) => {
			eye.addEventListener('click', () => {
				eye.classList.add('hidden');
				eye.previousElementSibling.classList.remove('hidden');
				const input = eye.previousElementSibling.previousElementSibling;
					input.type = 'password';
			});
		});
	</script>
</body>

</html>